using System.Diagnostics;

namespace FluentLicensing.Test;

public class LicenseManagerTest
{
    [Fact]
    public void ValidateLicense()
    {
        // Private EncryptKey:

        // Public EncryptKey:
        var publicKey = "PFJTQUtleVZhbHVlPjxNb2R1bHVzPnFpcGFKKzJhRy8xYkU0a1Y5THZiVFBmeXBBL2k5MFpCcXY1anl3aEJMeHZpekw2M3B1OWxqek50UTNaVXAvU1J2a05ReEZuRUlrU1IzdHl1TTFlbTdYM0tYN1lxbW4xaXFUK1dXTThqejNUY0UrcTFPS1hnTHJueDBpczhEUktvdkt5MjRGK1BRNlFSblJGN3ZuT0pxN0NLcG5lT0lsM3FBZGVENU5VMldxU0hBWG14OUYxK0hrU3Voa2xJNVFsSWR5YmZ4d1FhbXpwMlcwSW5BY1V3Sk1zMk1UQ2dBZWpIMXBXMTkzNmRYWWN2Q0FLZU9pZzg5Q1F1VTBCOWljdzBOWlNUNWN6aUhsZFM3dXVMVnZxVTlJRG5kRXpzTm82M3RodFUzbDZiOW5IamN0K0lMYm81MmJjaysza0lWdVliTDZ1OTBINGlkalBEQ3llSGN3ZGlZaGFCU29kUTVEMGw3MHJxNUJjTmdnU1RKblFPRHNFQnd4WlNacklEVkFBakgvbmMyL3kwZDFQMjJHZ2lCSFlTL0dEWldQelBVclB6UzdQUUE2UVZTNWRxS0NLTmYyQXBYWS8yengvT2EvWGFxeGtlSU9hRU85UU9iR09GejBMRFBVVEFnVG5UcUdVMlFsNTRmbE1YK3E5VUdZaURFN0VieE9URE5aY1I3WkpaR0pleUE3Uzg1RU92dUVOZms0bW5qUXozaWlyQWRjQ1QzWG8zempNQURINVNOUjhHMXhqK3N2b0xVYkd1SU90dHhsZTY0Rm00K0pBeEs2Y3lqU2lRZ2ZJcVB2b0oza2xISitITkozUEIzOGVLdUJVK0tsckFnZndmR0dGbW1uR3RPaytGN09pZUxRRDYzRFVjV2JPeW92T08zemVsVEFwbTNDU0NEZzJGdE1aNFhldE9GRk1ITStXYnlnRGZzR3VTMkp6SUloTVdZWlM3S1ZUWHMrN1NDeEp2UWVwY3BWcmpCQjErdlN5SE1wcGVBNDhkTjJqdWN0dmZ3My9STms5WlFjdld5VnVodjZQSDZXRzZ4QWVsR3hZV25tYlZsY2RKY0dJQlBSU0hlaGdDTEdQdFFHSVZpbURZZ0NwNlE0aXdCZDBnY29PeXJPTWUvSGh2bzBiSjZKK2t0VC9HTTV6QU16RCt2N0s3aEVlblZjN1d0c2Y5ajJ6NHQ2KzlvRVBYcEVzNGR2NDlPS3lkSGZKQ0NVYVZFYWpKRWUzOVg3ZlA4VWJ4Rm9pbjIvTTdHcVJvK2hzOFhPbWNXTGRNcjRVM1ozRVRYZnNSQzRoRDNPL05TazBsK1dITkVoT1QzSzg0YlJFRGJ6Mjkwa1NCRlQ5MDlZYmttTWJzaXFTRUdUb3pFQUJLNTNzSTE1Q09nMjRpQ01Hb0FyeDMralAySkJpTlViZU91L1FBTFh0WWNvZEVEN01HcDNGK3N4TWxSMStuaUE2N3RpaWFlVU1VbTRYcGZPNXVJUDl4K3lCWVk5UTVuTCtNZkx6SE42a1pXUzRwZS8xVVNlOGJoRlBrUnN1OGdweVJDYnFNalQ3dDRNWllxQmdxeTBZYW5RTitiSU9XYitqa3cvNnZncXlZTUVPMUdvWG1LV3lYaGw0VGVyUUF3UnV1ZjNKdUZuQTZYM2xuVlRFYWM1Qlk2UGJ3WjdSMWdjYWprQkprbzJ2TzVUdTBsS3NONFdjdEJqejJreHhQeXRrUkVxcHhHQ3ZFeVprellCUXYwZjFYWjJzS1BiNnBXSWZSOCtVL25kb1g0djJtVVJRMmQyOTlEa0xteUpOVERDdWJyOFN0MndrNnhZd3BvK3RTU1E9PTwvTW9kdWx1cz48RXhwb25lbnQ+QVFBQjwvRXhwb25lbnQ+PC9SU0FLZXlWYWx1ZT4=";

        // License :
        var license = "Ki6gF3w+UKa2FfLPShHmBDTAZlBO1pFksqBWKsIq5BIwydWvBofBwcZs3TUOB0dFxjewK6mha7UtPN7VmSlojrrYJ6TeEamquz75hWnm5eOIB7hngUxcIH+zVN/7L1tAC+reESUqo52atbtGcjk9VBgvyo4Vx0goqPxIzx1VIHEl+yvTcbf9I8INXPHd1K5t9nuMvvl8rjs97/caRs//clMkJ1ngZHbqHIKw6Tv8BKHZITZcmuadtkBlizlPCM1teJGuG3naKl2LQKsroajXqwLdNDcVH03qUUKalwzpA2BOP4Efp4uVgkcvzn6OTaues+QthRL2Wds+Ded+tX7E3Mk6+PJKcQj9hRThISPRGCN2YXx7HAx6x6Mr8gkZI8uFFXFR6YZlGnMixA1iRmyqo4YSr108F01cqHoKuvvPeHjfSRh+7CJCCQTWGJHP3XVku3Q+jAz9bdWqiyUVDWYAItRKOwhXMrTVkyhO0zfpgb6V3j0KOpvWCfKBYDFug9jBdWnNRJTyri1wQPvUrMtdqV30BrL/r0ID2Cz8Gtld6EBcJn9DFWe98hLVrTCtr4ay+hwlGEr6bmi0kF4TvtN6SkkjF9pZMqF3+mCgZH7zCt+ZqeBgxEEoOGjx388DtjGsICOBGiMmxDZbPmeum80IAt2bBiTopBsgT5pigvnfkbQNx/WiaetanlW5YXhIVaC97+6kMgGHtiBW5m+ZCcE9xayllNGRKeIEfUn5a6wX1c8R19c91+VA/7k2rEKFZ0Vca+LkehB779FQCPIlAwwPPtzomfaniftO/BNNwUrJe0N8hBRIHF3PFGwXEtzrA+rL+lREJbpCe5Q+x1U3/W4111Zn04F1TlmtXU3YX8N8gOk7AIq4dJHaABAbRgu5rCV0xHH25z4FmFuLMqSYEdaX5fVViRhD7m6YaOGwbj0whe7fGE/UIihV9qXj2feiIsCyy3PACL0EVQCNFNO/PBT4A/h4Uz/sNUhceq+nL2tWtevsj94XenBR/DUHEFihhtwUEfGCF3U413ET0lPiJPdaj2oOnOc959i5bItZkfCX8tA5k3vSikkfZg6+ZE17DaNcQ7/fdikO1Xga+44NUxKu8c75+MGds7bS3vpGj10qTWzft6KwM48tqKwlIsd9y43mv7NarBO7bn7F0j87CfXz5AIVE/Kz/zoo92nQP+386V4fSE74nExHpKdX5YCY9WEtN7WXFwiCDm27l83bP30DNZf86FG9GuLxLp2Qdc2In/usS+LqF+1DVOVYFRHHBI4YFjfocCoOCbNz4A+DcPmwPVZOjExFTLT1fTA74DiFGm+OmJoMARriU3dUZZ7Je5soy7nL6VlbJG4PrOsQX/AXnw==";

        // Arrange
        var keySize = 8 * 1024;

        var licenseManager = new LicenseManager(new EncryptKey(publicKey, keySize), new License(license));

        // Actor

        var licenseData = licenseManager.Data;

        // Assert

        Assert.NotNull(licenseData);
    }
}